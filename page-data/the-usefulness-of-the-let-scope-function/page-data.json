{"componentChunkName":"component---src-templates-blog-post-js","path":"/the-usefulness-of-the-let-scope-function/","result":{"data":{"site":{"siteMetadata":{"title":"Daniel Talks Code"}},"markdownRemark":{"id":"c2718862-0005-5b7d-b024-cd088cfe30a7","excerpt":"Another multi-use scope function that Kotlin offers is . This is probably the one that I‚Äôve used the most so far, however, I wasn‚Äôt aware of its other two‚Ä¶","html":"<p>Another multi-use scope function that Kotlin offers is <a href=\"https://kotlinlang.org/docs/scope-functions.html#let\"><code class=\"language-text\">.let</code></a>. This is probably the one that I‚Äôve used the most so far, however, I wasn‚Äôt aware of its other two benefits. Essentially I‚Äôve mostly used it when combined with the safe call operator ‚Äù?‚Äù to execute code using its non-null values. However, <code class=\"language-text\">.let</code> can also save you from having to declare additional variables. You are provided the context object as an argument to be accessed with the ‚Äúit‚Äù keyword, and what you get back is the result of the lambda evaluation.</p>\n<p>For example, if I received a long string that I wanted to run a set of operations on and later print, I could do something like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">\n<span class=\"token keyword\">val</span> characters <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"gandalf, gollum, frodo, sam, pippin, merry, aragorn, gimli, legolas\"</span></span>\n    characters\n        <span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\",\"</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">map</span> <span class=\"token punctuation\">{</span> it<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token char\">' '</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span> <span class=\"token punctuation\">{</span> it<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"g\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">let</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">println</span><span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token comment\">// [gandalf, gollum, gimli]</span></code></pre></div>\n<p>Notice that I only declared a single variable called <code class=\"language-text\">characters</code> and then chained multiple operations on it, including printing it to the console. ‚ú®</p>\n<h2>Local Scope Variables for Readability</h2>\n<p>You can also improve code readability by replacing the ‚Äúit‚Äù keyword provided by the <code class=\"language-text\">.let</code> scope function with something more meaningful.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">\n    <span class=\"token keyword\">val</span> travelers <span class=\"token operator\">=</span> <span class=\"token function\">listOf</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"frodo\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"sam\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"gollum\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> meal <span class=\"token operator\">=</span> travelers<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"sam\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">let</span> <span class=\"token punctuation\">{</span> samIsCooking <span class=\"token operator\">-></span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>samIsCooking<span class=\"token punctuation\">)</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"a delicious stew ü•ò\"</span></span> <span class=\"token keyword\">else</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"lembas bread\"</span></span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"We ate </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">meal</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// We ate a delicious stew ü•ò</span></code></pre></div>\n<h2>Working with the Safe Call Operator ‚Äù?‚Äù</h2>\n<p>Lastly, and possibly the most common use case for <code class=\"language-text\">.let</code> is to execute a block of code after checking that an optional value is not <code class=\"language-text\">null</code>. Usually the variable will use the safe call operator ‚Äù?‚Äù in this situation and you can chain the <code class=\"language-text\">.let</code> scope function afterwards as follows.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">\n<span class=\"token keyword\">val</span> theOneRing<span class=\"token operator\">:</span> String<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"üíç\"</span></span>\ntheOneRing<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">let</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"üßô Keep it secret. Keep it safe\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>I hope this shines a light on the many additional uses of the <code class=\"language-text\">.let</code> scope function. If there‚Äôs anything I missed, please leave me a comment below.</p>\n<p>¬†</p>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 43.67816091954023%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <iframe class=\"embedly-embed\" src=\"//cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fgiphy.com%2Fembed%2FmwqZDaM3PkWc0%2Ftwitter%2Fiframe&amp;display_name=Giphy&amp;url=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2FmwqZDaM3PkWc0%2Fsource.gif&amp;image=https%3A%2F%2Fi.giphy.com%2Fmedia%2FmwqZDaM3PkWc0%2F200.gif&amp;key=61d05c9d54e8455ea7a9677c366be814&amp;type=text%2Fhtml&amp;schema=giphy&amp;wmode=opaque\" scrolling=\"no\" title=\"Giphy embed\" frameborder=\"0\" allow=\"autoplay; fullscreen\" allowfullscreen=\"true\" style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div>","frontmatter":{"title":"The Usefulness of the .let Scope Function","date":"March 11, 2021","description":null,"featuredImage":{"src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,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"},"images":{"fallback":{"src":"/static/b02d5f510ac7949c6b20b75297f45cbd/f1f63/lotr-hobbit-thandy-yung.jpg","srcSet":"/static/b02d5f510ac7949c6b20b75297f45cbd/bc2ec/lotr-hobbit-thandy-yung.jpg 1200w,\n/static/b02d5f510ac7949c6b20b75297f45cbd/4a898/lotr-hobbit-thandy-yung.jpg 2401w,\n/static/b02d5f510ac7949c6b20b75297f45cbd/f1f63/lotr-hobbit-thandy-yung.jpg 4801w","sizes":"(min-width: 4801px) 4801px, 100vw"},"sources":[]},"width":4801,"height":2824}}},"alt":"Photo by Thandy Yung on Unsplash"}}},"previous":{"fields":{"slug":"/use-run-to-init-objects-and-perform-calculations-in-one-go/"},"frontmatter":{"title":"Use .run to init objects and perform calculations in one go"}},"next":{"fields":{"slug":"/the-great-power-of-with/"},"frontmatter":{"title":"The great power of .with"}}},"pageContext":{"id":"c2718862-0005-5b7d-b024-cd088cfe30a7","previousPostId":"dfd91bdb-0b43-5d9d-a3a3-72e6dc0b1545","nextPostId":"55f5fa9e-7616-5e72-af78-aa061921c946"}},"staticQueryHashes":["161993990","2841359383"]}